{"version":3,"file":"vigee-wallet-connector.esm.js","sources":["../../../../../../node_modules/regenerator-runtime/runtime.js","../src/wallets/algosigner.ts","../src/wallets/myalgoconnect.ts","../src/wallets/walletconnect.ts","../src/index.ts"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import algosdk, { Transaction, TransactionParams } from 'algosdk';\nimport { PermissionCallback, SignedTxn, Wallet } from './wallet';\n\nconst logoInverted = \"data:image/png;base64,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\";\nconst logo = \"data:image/png;base64,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\";\n\n\ndeclare const AlgoSigner: any;\n\nclass AlgoSignerWallet implements Wallet {\n    accounts: string[];\n    defaultAccount: number;\n    network: string;\n    permissionCallback?: PermissionCallback;\n\n    constructor(network: string) {\n        this.network = network;\n        this.accounts = [];\n        this.defaultAccount = 0;\n    }\n\n    static displayName(): string { return \"AlgoSigner\"; }\n    displayName(): string { return AlgoSignerWallet.displayName(); }\n\n    static img(inverted: boolean): string {\n        return inverted ? logoInverted : logo;\n    }\n\n    img(inverted: boolean): string {\n        return AlgoSignerWallet.img(inverted);\n    }\n\n    async connect(): Promise<boolean> {\n\n        if (this.isConnected()) return true;\n\n        const loaded = await this.waitForLoaded();\n\n        if (!loaded) {\n            alert(\"AlgoSigner not loaded, is it installed?\");\n            return false;\n        }\n\n        try {\n            await AlgoSigner.connect();\n        } catch (err) {\n            alert(\"Couldn't connect to algosigner, is it installed?\");\n        }\n\n        const accts = await AlgoSigner.accounts({ ledger: this.network });\n        this.accounts = accts.map((a: any) => { return a.address; });\n\n        return true;\n    }\n\n    async waitForLoaded(): Promise<boolean> {\n        for (let x = 0; x < 3; x++) {\n            if (typeof AlgoSigner !== 'undefined') { return true; }\n            await new Promise(r => { setTimeout(r, 1000); });\n        }\n\n        return false;\n    }\n\n\n    // Only checking accounts, not that algosigner is loaded because sometimes it takes a few tries\n    isConnected(): boolean { return this.accounts && this.accounts.length > 0; }\n\n    disconnect() { /* noop */ }\n\n    getDefaultAccount(): string {\n        if (!this.isConnected()) return \"\";\n\n        return this.accounts[this.defaultAccount];\n    }\n\n    async signTxn(txns: Transaction[]): Promise<SignedTxn[]> {\n\n        const defaultAcct = this.getDefaultAccount();\n\n        const encodedTxns = txns.map((tx: Transaction) => {\n            const t = { txn: AlgoSigner.encoding.msgpackToBase64(tx.toByte()) };\n            // @ts-ignore\n            if (algosdk.encodeAddress(tx.from.publicKey) !== defaultAcct) t.signers = [];\n            return t;\n        });\n\n        const signed = await AlgoSigner.signTxn(encodedTxns);\n\n        return signed.map((signedTx: any) => {\n            if (signedTx) return {\n                txID: signedTx.txID,\n                blob: AlgoSigner.encoding.base64ToMsgpack(signedTx.blob),\n            };\n            return {};\n        });\n    }\n\n    async sign(txn: TransactionParams): Promise<SignedTxn> {\n        const stxn = await AlgoSigner.sign(txn);\n        const blob = new Uint8Array(Buffer.from(stxn.blob, 'base64'));\n        return { txID: stxn.txID, blob: blob };\n    }\n\n    async signBytes(b: Uint8Array): Promise<Uint8Array> {\n        throw new Error('Method not implemented to sign bytes: ' + Buffer.from(b).toString());\n    }\n\n    async signTeal(teal: Uint8Array): Promise<Uint8Array> {\n        throw new Error('Method not implemented to decode: .' + Buffer.from(teal).toString());\n    }\n}\n\nexport default AlgoSignerWallet;\n","import algosdk, { Transaction } from \"algosdk\";\nimport { PermissionCallback, SignedTxn, Wallet } from \"./wallet\";\nimport MyAlgo from \"@randlabs/myalgo-connect\";\n\nconst logoInverted =\n  \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQEAAAEGCAYAAABl6SBFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAEHpJREFUeNrsnf9RGzsXhhUm/3++FVxTQUgFLBUAFcRUEKiAUIGhAkwFMRWwVBCngriDOBXwrYycyxACllZaSec8z4yHuXcCLPrx7nuOjqR3Dw8PBgD0skMTACACAIAIAAAiAACIAAAgAgCACAAAIgAAiAAAIAIAgAgAACIAAIgAACACAIAIAAAiAACIAAAgAgCACAAAIgAAiAAAIAIAgAgAACIAANXyPtcvfvfuHa0/IA8PD3vdl1FAP7W03qD9pEcEIMkEb9z/2ndfgyb+K4NyIwiL7vPLfV12QrGgF+rlXa5ryHACwZOycZP7g/u6V8ijrQWh+3x3YrHo+nhFj5XvBBCBsgfE5u2+7yZ7U9mfsHCfeysMXZ8v6VVEABHYztrbyX5Y4aTfRhSsS7gl14AIIAJ/TvxP3eeo+4yV/Nk2VJg7QZgzChABjZ1tJ/tnZRP/LUG40e4QEAEdMf6Rm/x7Bl7C5g1uus9MYw4BEZD91j93AjBinm+NdQdXmtwBIiCvQxs3+Rvmcy8WTgxmiAAiwOQnVLiQLAaIAJMflIsBIsDkB+VigAjU12Hj7svUPCb8IB+tE4MWEUAEhuoom+E/NY9LfWT7y8E6grOa9ywgAvVY/2tDgU+prJwruEQEEIEUb/9rrH812GXFk9q2OeeYj5wstF3H2In/AwGoCluR+a3ruy80BU6g79vfJv4mDJXqXcFxDWXIOIGyOmP9JkEARLkC+hIR2FoATp0AjGkNMaxzOl3fXjuHB4QDf7X/JP90hAdFJg0JB/Lb/zsEQE14cOcSvoQDNMHvtf87wx5/beHBVxf6IQLKBWDiBIA4USdTmydABPQKwNTlAEA3k24s3GlNGKpNDDr1nzD+4Qk2UXiQc+8BiUEEAPKySRiqcgQ7yib/yNo+BAC2EAI1SWI14YBTd1YAYFtWLjRYDDxOEQEEAAoTgt0hcwTkBNJxjQBAACMNOQLxIuCSgFSGQd8cwQgRqFcAJoxjQAgUioA7TAIBgJhCMJX4h4lMDLpSYCoBIQWX3dg9Szh2EYEIjbg5DAQgFSep7jpABPo3oI3Z7FmAbAaC1HxMUUPAEmF/2A0Ig401KYlCMSLgVgKoBYCh2BSgIQKFCMDEsBIAw7PntqNXTfU5AXcf4DfCAMjIQax7EEkMhjXaN8IAyEy0PQYkBv0b7AsCAIXkB6qtS6nWCVAPAAVibzmaEw4MJwKEASAuLCAcIAwAwgKcAGEACCB4tQAnsB1TxhgUTlX3HVYlAq4oqGGMQeGMu081NxtVEw44ZeWmYKgFmxy0m4yWhAPxOEUAoCLsS+scJxDJCVAaDBXjteU4x3x8X0lDniMAa1qPf7tXQJstnC3eNo6W6PRsIvsAJ9DDCTgX8IP5b9quzbYeTO7K7ZwrKcvueXc9nndi5B4Jt/WSITmBv7sAMMb3XLs28/OeeP77ueC+K3oMF+0EcAG/mXXt5TupbPv9zBQSeLmWJ88ruRR8KzeAE8AFvMQqwAXkdgOhz3uLGzCIwBNFtG+wCRpgrnpsSLnP5FpCD+CUHBI0ztkiAh6cMv/XybUvPb5/6EnVx7UYJx4rwf15jgj48RkNMBd9vtlVqy0rcS0a3MCkxD0FRYqAWy7SXhfQRrrgYqi8gBWbywg/5154v54iAriAQVxAhkl1EeOMPeFOwPIJEXjbBdglIu0HhsxinV47kBOI5VqME5KF4L4dd2P8CBHABQzlAobKC1xE/nk3wvv3EBF4nSPtAuC7/TSzxZ5HdC1DupecFJUgLEoEnE3SnBC0Vvgywc9NmReIfk23WypcCu/rI0TgZT4Z3ZxFSq4N9WZN4Vq0uIFiQoJi9g44e/RTsQB47boLcFmx6/Kj3brziiv8KrzP/3neftr3DmjPBZwk/vmx36wXqQRAiRMoZsyXJAL7igWg9U2u2bsX3HJqjryAdS2Xns975LM05gSGkAAngAv4y4SyoZNdSm08JtU88/NOAwb9rfB+xwk8GSR2MGtdFZgFJNemrr18J1WMN2sbsCS4OSS28fw+6dWDpoTCoVKcwKFSAfDededCgIn7T99JFSMk8HUBY/NfAdjYZztthg1QKsPgUkSgUSoCIbvupi+4qKHerCGu5fkhsbiBwsZ+dhFw8aLGvQLeZwU469iEDqKe+/VDXEtj/jwYxtf1Sd9VuJe7erAEJ6DVBYTU208j2MnQvECIaznv29+RE5q4gUJFQOPSoPeuO3eE+DjCAAp5s8ZyLZaRZwijISTY1y4CGkOBC88J9eqVVp4Z5jb1877iWoYUrqpCAsIBXcwCl9hGMd4kAXmBmK4lNC9AclCqCHhWvGl1AWPz9gGVvoOoTfi821zE6ZUMcysSkg8ayToXcjsBbSJwEVgYZGJOKrN9JV4K1zKEcBESVCQCY0UC4H1WgEugbRvvNwkmVArXEhoSSC8hHmsVAU0rA2eRlthi5AWsG3nLkaRyLUFOwDkSyXcS7GsVAS1OYBmQXJt4ThTfGvQ2o2tZ931AHCw5JBgjArIJOSvA97aasec1V/cZXUtoXuAWERAkAgEFI7USdFZA4KCIkRcYwrWEWmDJTiDbCsGOgaJcwJOzApLGla/kBYZwLUEhjIKlwpE2EdDgBGLsukvZpvOMriXUEUoOCXACwgjZdWcnU5+76vrmBYZ0LRuoHlTsBD4IF4GQXXfXEX5v6D6CoV1LkHsRfn35/7SJgOTjxEJ23TWRQiSfvMDm3r8cruW3BfZ0L5LdAOGAIEJu5ZlG+t2+QtJmdC2hz3zPEJMhAmOhbdr6HoThlthivQVGnktNNxldi7d7UZAXQAQEkGLXXbI3q4uxc7mWDb5LhVKvLyccEMCsx3HcMUlWhx7ZtYS6l7WDETh+RoiAPhdgJ//nBM/RJBKAUQIXEPrMLcMNEShOADItsf3tzZpCCE5NureVV72AkuvLEYGKCN11N0n4TFFFwPOsgKDnDTh6GzeACBTDULvucuYFzgdoR1/humXoIQIlELLr7sik3zsR7ecP4FpChQsngAgUQciuu+kQDxYxL3A+UFuGLBUiBIhAVgbfdedJ74tee5wVEMI4oISYkAARqMcFRNp1N1hIkKiQKfYzUz2ICGRjFngQ55AFIX0vu0xRyBTVvQi7vnyFCNTVWSG77iYZnjXIDWRwLX2eV4obWGgTgZprv3PvuhsiLzC0a9kQUujErsJKRaDWgyGWBey688Hbzrs6/knGNvZqKyXXlxMOFETIDb3XGZ835C05zdzGIe5FghAQDlRAiht6S3MtQxQyvUVIQlNCSPBLmwj8qrCTSjgrILVrmRbS1r5CJMEJqFsdqC0nkPKGXlxLz5BAyJ0EhAPCXMC4JhdQgGvp6wTWwocTwAkkm1CJb+gtwbWkOtsglJALS6suIQ486q3/7+0aOtcfbN8+DxX0jRWrXZ+6ALckeJfxeT/6iJZzLT8KbHu7Rdv3nIafps7j7G0SdzfHlMi9RFhDSBByVkBOF3AV4FquC237kDMRag0Jlrl+8Y7WP9xDnWeeb6KJyXRqrAk/4agptP2PAr6n1pBgoVUEvhfeMSG7BHMm12pzLduKlAYn8F2rCJQcDrSFHB++dVtW5lq2RctS4RIRqN8F2Mn/OePz+u5qTHl8eExCQpXqQoKAF44MEXCqXeJS4ayg48NTupYasugaLizNGsLsaG+AFwg5KyD3rrvaXEtSN1Dh9eUL7SJQWnLwqrLk2mVlriWEkKXCmtzAvXYRKMkJ1LbrzoqVb3lwk9m1hHBU28TCCfhZt5JEoLZdd1cFXnqSgpALS2txAssAJyfOCZTiBjgrQFZeoJbry7OLVSkiUMKSTm277s4Cvmdq6iXktKEari+/RwTKcAK17bprfc/VG/jSkyROQOiFpdmfMesuwmeD9EfGQbpb2a67Ax/RcpPnh6lzd91TjgPEL+e4ejMU6P6e42fPq9YJ5IyNLirbdSfhrIBQpO0qLKKysSQn0Jjh9+BzVkBdrPfcezoBmwz9Wujf84cDzTEf35fSGvbt1jXAauA31sw8lqX6fE/O5Jp9q/le2nlu5DB2k3ol4G9pcy8NFucEnAraCXZqAORz8tKSdI75WJoI2IKQb4wPUMA/L4Wh2hODm40fS8YHCGceUOmpQwQcV4wREE5RRUxFhQPODo2NnGw2wHNeXeFQHw44cbDhALfMAi5AcThASACSmSEC27mB1pAgBIECUEptQA1OwHLBmAFhFOlwi0sMPqXwzR8APtgKwYMtxjxO4Bk3jB0QQrHOtnQnIGULLOACDrb5hziBP4ViZVgpAFyAXieAGwBNLgAn8LobYKUAcAFancAThWSlAGrjj+PDcAL9OGNMQWVUMWarEQF3wGTLuIJawoASqwOrDgecVeLQEagBO/k/hpwZQDjwtnDYQ0cuGWNQehhQ0qEhopyAU8qRcwNjxhoUiHcyECfgLx5WYUkSQolUOTZ3amxplyTk4BEojWqSgVWHA8/CAioJoRS8KgMJB+KFBceMPSgkDKh2LO7U3PLuBCJWCyA3JzWtBogJB55ZKLtasMdYhAxcdmP5LOJYRgQCG84KwB35ARiYRTeOP8b8geQEwgXFFhGdMCaBPIBSEXBCMCc/AANyXONyoNhw4JmdsmFBwxiFhLx4ozDhQEEKbWM1xikkYpZKAHACcdWURCGkIEpBEE5gGIGxTsB21opxC5FYGKHFaTtSe4wVA4gsAAc1FwSpFAEnBHOEAHqyXgqUKgDiRcAJwQwhgB4CcCBlKVCtCCAE0FMAxK807WjpUYQAEADlIoAQAAKACCAE8BZ24u9qEoD1nJBYLLQN3d/ddF++GgqK4D8ByL4MSLHQsCLUGgqK4JG5EVwHgAi8LgRr+2fYa6AZuxfgWKsAqBcBJwQr5whmzAd12N2A6vNDanMCf4nHvnRfzpkb4il2BYDjxcrohMaQMJRMawouAyYxWEZ40Lo8QUtriMNeDnKgOf5HBDzyBG7f+AWtIYKls/9faArCgRB7Zg8ouTYcaV4r652ktbz9CQfKdAWbY6VxBXWx2QJ8jP3HCeAK9DHrPmc1Tn6cQD2u4MxQaVgim9LfE97+iEBqMbD3G+waCoxKsv72zf/Rre4AIjCIEKxctZl1Bgy8fKwF2QkzIALZQgS7nHiAGAwe99vJf4b17zmGSQzGxVUc2tLjhuGVbPJfSD33j7JhxACUTn5EQHan2uXEz91nwjz2xtr8Kxv3a7H8iIDszh05IbCCMGZ+v0rbfW6k3fmHCCgXgRdChU/d58iwW3GDtfm2xPdKuuVHBBCB5+7ACsGh+6rR7s/dW79FBxEBBOExiXgo3CEsn0x8jnVDBOCVwbD3RBSayt/29i1/ax6v9l7Su4gAItBPFD6Yxw1MpW5ishPevuG/M+kRAUQg/YCxojB2n30XQuwNONlXbrLbSb/E3iMCiEBZ+YWNGGxEYsO/5u0lSjuZfz3775Xrt5YWRgQAQBBsIAJABAAAEQAARAAAEAEAQAQAABEAAEQAABABAEAEAAARAABEAAAQAQBABAAAEQAARAAAEAEAQAQAABEAAEQAABABAEAEAAARAABEAAAQAQBABAAAEQAARAAAEAEAQAQAABEAAEQAABABAEAEAAARAABEAAAQAQAokP8LMAAapFk/2sB7UAAAAABJRU5ErkJggg==\";\nconst logo =\n  \"data:image/png;base64,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\";\n\n/*\n Warning: \n    Popups will be blocked if the connect or sign are called outside of a user triggered event, please make sure \n    the user allows all popups or the calls are all triggered by events\n    https://connect.myalgo.com/docs/getting-started/important-considerations#browser-events-and-blocked-popups\n*/\n\nclass MyAlgoConnectWallet implements Wallet {\n  accounts: string[];\n  defaultAccount: number;\n  network: string;\n  permissionCallback?: PermissionCallback;\n\n  walletConn: MyAlgo;\n\n  constructor() {\n    this.accounts = [];\n    this.defaultAccount = 0;\n\n    this.walletConn = new MyAlgo();\n  }\n\n  static displayName(): string {\n    return \"My Algo\";\n  }\n  displayName(): string {\n    return MyAlgoConnectWallet.displayName();\n  }\n\n  static img(inverted: boolean): string {\n    return inverted ? logoInverted : logo;\n  }\n\n  img(inverted: boolean): string {\n    return MyAlgoConnectWallet.img(inverted);\n  }\n\n  async connect(): Promise<boolean> {\n    if (this.isConnected()) return true;\n\n    try {\n      const accounts = await this.walletConn.connect();\n      this.accounts = accounts.map((account) => account.address);\n    } catch (err) {\n      return false;\n    }\n\n    return true;\n  }\n\n  isConnected(): boolean {\n    return this.accounts && this.accounts.length > 0;\n  }\n\n  disconnect() {\n    /* noop */\n  }\n\n  getDefaultAccount(): string {\n    if (!this.isConnected()) return \"\";\n    return this.accounts[this.defaultAccount];\n  }\n\n  async doSign(defaultAcct: string, txns: Transaction[]): Promise<SignedTxn[]> {\n    const unsigned = [];\n    const signedTxns = [];\n    for (const tidx in txns) {\n      if (!txns[tidx]) continue;\n\n      const txn = txns[tidx];\n      if (algosdk.encodeAddress(txn.from.publicKey) === defaultAcct) {\n        signedTxns.push(unsigned.length);\n        unsigned.push(txn.toByte());\n      } else {\n        signedTxns.push({ txID: \"\", blob: new Uint8Array() });\n      }\n    }\n\n    const s = await this.walletConn.signTransaction(unsigned);\n    for (let x = 0; x < signedTxns.length; x++) {\n      if (typeof signedTxns[x] === \"number\") {\n        signedTxns[x] = s[signedTxns[x] as number];\n      };\n    }\n\n    return signedTxns as SignedTxn[];\n  }\n\n  async signTxn(txns: Transaction[]): Promise<SignedTxn[]> {\n    const defaultAcct = this.getDefaultAccount();\n\n    if (this.permissionCallback) {\n      return await this.permissionCallback.request({\n        approved: async (): Promise<SignedTxn[]> => {\n          return await this.doSign(defaultAcct, txns);\n        },\n        declined: async (): Promise<SignedTxn[]> => {\n          return [];\n        },\n      });\n    }\n\n    return await this.doSign(defaultAcct, txns);\n  }\n\n  signBytes(\n    b: Uint8Array,\n    permissionCallback?: PermissionCallback\n  ): Promise<Uint8Array> {\n    throw new Error(\"Method not implemented.\" + b + permissionCallback);\n  }\n\n  async signTeal(\n    teal: Uint8Array,\n    _permissionCallback?: PermissionCallback\n  ): Promise<Uint8Array> {\n    return await this.walletConn.signLogicSig(teal, this.getDefaultAccount());\n  }\n}\n\nexport default MyAlgoConnectWallet;\n","import algosdk, { Transaction, TransactionParams } from \"algosdk\";\nimport { PermissionCallback, SignedTxn, Wallet } from \"./wallet\";\n\nimport WalletConnect from \"@walletconnect/client\";\nimport WalletConnectQRCodeModal from \"algorand-walletconnect-qrcode-modal\";\n\nimport { formatJsonRpcRequest } from \"@json-rpc-tools/utils\";\n\nconst logo =\n  \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwIDIwSDE3LjUwNDdMMTUuODY5MyAxMy45NkwxMi4zNjI1IDIwSDkuNTYzNzVMMTQuOTc1OCAxMC42NDU2TDE0LjA5OTEgNy4zODE3TDYuNzk4NzQgMjBINEwxMy4yNTYxIDRIMTUuNzE3NkwxNi43Nzk4IDcuOTg3MzhIMTkuMzA4N0wxNy41ODkgMTAuOTgyMUwyMCAyMFoiIGZpbGw9IiMyQjJCMkYiLz4KPC9zdmc+Cg==\";\n\nclass WC implements Wallet {\n  accounts: string[];\n  defaultAccount: number;\n  network: string;\n  connector: WalletConnect;\n  permissionCallback?: PermissionCallback;\n\n  constructor(network: string) {\n    this.accounts = [];\n    this.defaultAccount = 0;\n    this.network = network;\n    const bridge = \"https://bridge.walletconnect.org\";\n    this.connector = new WalletConnect({\n      bridge,\n      qrcodeModal: WalletConnectQRCodeModal,\n    });\n  }\n\n  async connect(cb: any): Promise<boolean> {\n    // Check if connection is already established\n    if (this.connector.connected) return true;\n\n    this.connector.createSession();\n\n    this.connector.on(\"connect\", (error, payload) => {\n      if (error) {\n        throw error;\n      }\n      const { accounts } = payload.params[0];\n      cb(accounts);\n      this.accounts = accounts;\n    });\n\n    this.connector.on(\"session_update\", (error, payload) => {\n      if (error) {\n        throw error;\n      }\n      const { accounts } = payload.params[0];\n      cb(accounts);\n      this.accounts = accounts;\n    });\n\n    this.connector.on(\"disconnect\", (error, _payload) => {\n      if (error) throw error;\n    });\n\n\n    return new Promise(resolve => {\n      const reconn = setInterval(() => {\n        if (this.connector.connected) {\n          clearInterval(reconn);\n          resolve(true);\n          return;\n        }\n        this.connector.connect();\n      }, 100);\n    });\n  }\n\n  static displayName(): string {\n    return \"Wallet Connect\";\n  }\n  displayName(): string {\n    return WC.displayName();\n  }\n\n  static img(_inverted: boolean): string {\n    return logo;\n  }\n  img(inverted: boolean): string {\n    return WC.img(inverted);\n  }\n\n  isConnected(): boolean {\n    return this.connector.connected;\n  }\n\n  disconnect() {\n    this.connector.killSession();\n  }\n\n  getDefaultAccount(): string {\n    if (!this.isConnected()) return \"\";\n    return this.accounts[this.defaultAccount];\n  }\n\n  async signTxn(txns: Transaction[]): Promise<SignedTxn[]> {\n    const defaultAddress = this.getDefaultAccount();\n    const txnsToSign = txns.map((txn) => {\n      const encodedTxn = Buffer.from(\n        algosdk.encodeUnsignedTransaction(txn)\n      ).toString(\"base64\");\n\n      if (algosdk.encodeAddress(txn.from.publicKey) !== defaultAddress)\n        return { txn: encodedTxn, signers: [] };\n      return { txn: encodedTxn };\n    });\n\n    const request = formatJsonRpcRequest(\"algo_signTxn\", [txnsToSign]);\n\n    const result: string[] = await this.connector.sendCustomRequest(request);\n\n    return result.map((element, idx) => {\n      return element\n        ? {\n          txID: txns[idx].txID(),\n          blob: new Uint8Array(Buffer.from(element, \"base64\")),\n        }\n        : {\n          txID: txns[idx].txID(),\n          blob: new Uint8Array(),\n        };\n    });\n  }\n\n  async sign(txn: TransactionParams): Promise<SignedTxn> {\n    throw new Error(\"Method not implemented.\" + txn);\n  }\n\n  async signBytes(b: Uint8Array): Promise<Uint8Array> {\n    throw new Error(\"Method not implemented.\" + b);\n  }\n\n  async signTeal(teal: Uint8Array): Promise<Uint8Array> {\n    throw new Error(\"Method not implemented.\" + teal);\n  }\n}\n\nexport default WC;\n","import { Transaction, TransactionSigner } from \"algosdk\";\nimport AlgoSignerWallet from \"./wallets/algosigner\";\nimport MyAlgoConnectWallet from \"./wallets/myalgoconnect\";\nimport { PermissionCallback as PopupPermissionCallback, SignedTxn, Wallet } from \"./wallets/wallet\";\nimport WC from \"./wallets/walletconnect\";\n\nexport {\n  PermissionCallback, PermissionResult, SignedTxn, Wallet\n} from \"./wallets/wallet\";\n\n\nenum ValidWallets {\n  WALLET_CONNECT = \"wallet-connect\",\n  ALGO_SIGNER = \"algo-signer\",\n  MYALGO_CONNECT = \"my-algo-connect\"\n}\n\nexport type WalletChoice = keyof typeof ValidWallets;\n\nenum ValidNetworks {\n  TEST = \"TestNet\",\n  MAIN = \"MainNet\",\n  VIGEE_DEV = \"vigee-art-sandnet\"\n}\n\nexport type NetworkChoice = keyof typeof ValidNetworks;\n\nexport const allowedWallets = {\n  WALLET_CONNECT: WC,\n  ALGO_SIGNER: AlgoSignerWallet,\n  MYALGO_CONNECT: MyAlgoConnectWallet,\n  // \"insecure-wallet\": InsecureWallet,\n};\n\n\nexport enum WalletStorageKeys {\n  WALLET_PREFERENCE = \"wallet-preference\",\n  ACCOUNT_LIST = \"acct-list\",\n  ACCOUNT_PREFERENCE = \"acct-preference\"\n}\n\nexport class VigeeWallet {\n  wallet: Wallet;\n  walletChoice: WalletChoice;\n  network: string;\n  popupPermissionCallback?: PopupPermissionCallback;\n\n  constructor(\n    network: NetworkChoice,\n    popupPermissionCallback?: PopupPermissionCallback,\n    walletChoice?: WalletChoice\n  ) {\n    if (walletChoice) this.setWalletPreference(walletChoice);\n\n    this.network = network;\n\n    this.walletChoice = this.walletPreference() as WalletChoice;\n\n    if (popupPermissionCallback) this.popupPermissionCallback = popupPermissionCallback;\n\n    if (!(this.walletChoice in allowedWallets)) return;\n\n    this.wallet = new allowedWallets[this.walletChoice](network);\n    this.wallet.permissionCallback = this.popupPermissionCallback;\n    this.wallet.accounts = this.accountList();\n    this.wallet.defaultAccount = this.accountIndex();\n  }\n\n  async connect(): Promise<boolean> {\n    if (this.wallet === undefined) return false;\n    // Fail\n    this.disconnect();\n    return false;\n  }\n\n  connected(): boolean {\n    return this.wallet !== undefined && this.wallet.isConnected();\n  }\n\n  getSigner(): TransactionSigner {\n    return (txnGroup: Transaction[], indexesToSign?: number[]) => {\n      if (indexesToSign) {\n        txnGroup = txnGroup.filter(\n          (_txn, index) => !indexesToSign.includes(index));\n      }\n      return Promise.resolve(this.signTxn(txnGroup)).then((txns) => {\n        return txns.map((tx) => {\n          return tx.blob;\n        });\n      });\n    };\n  }\n\n  setAccountList(accts: string[]) {\n    sessionStorage.setItem(WalletStorageKeys.ACCOUNT_LIST, JSON.stringify(accts));\n  }\n\n  accountList(): string[] {\n    const accts = sessionStorage.getItem(WalletStorageKeys.ACCOUNT_LIST);\n    return accts === \"\" || accts === null ? [] : JSON.parse(accts);\n  }\n\n  setAccountIndex(idx: number) {\n    this.wallet.defaultAccount = idx;\n    sessionStorage.setItem(WalletStorageKeys.ACCOUNT_PREFERENCE, idx.toString());\n  }\n\n  accountIndex(): number {\n    const idx = sessionStorage.getItem(WalletStorageKeys.ACCOUNT_PREFERENCE);\n    return idx === null || idx === \"\" ? 0 : parseInt(idx, 10);\n  }\n\n  setWalletPreference(walletChoice: WalletChoice) {\n    this.walletChoice = walletChoice;\n    sessionStorage.setItem(WalletStorageKeys.WALLET_PREFERENCE, walletChoice);\n  }\n\n  walletPreference(): WalletChoice | \"\" {\n    console.log(WalletStorageKeys.WALLET_PREFERENCE);\n    const wp = sessionStorage.getItem(WalletStorageKeys.WALLET_PREFERENCE) as WalletChoice;\n    return wp === null ? \"\" : wp;\n  }\n\n  disconnect() {\n    if (this.wallet !== undefined) this.wallet.disconnect();\n    sessionStorage.setItem(WalletStorageKeys.ACCOUNT_LIST, \"\");\n    sessionStorage.setItem(WalletStorageKeys.ACCOUNT_PREFERENCE, \"\");\n    sessionStorage.setItem(WalletStorageKeys.WALLET_PREFERENCE, \"\");\n  }\n\n  getDefaultAccount(): string {\n    if (!this.connected()) return \"\";\n    return this.wallet.getDefaultAccount();\n  }\n\n  async signTxn(txns: Transaction[]): Promise<SignedTxn[]> {\n    if (!this.connected() && !(await this.connect())) return [];\n    return this.wallet.signTxn(txns);\n  }\n}\n"],"names":["runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","logoInverted","logo","AlgoSignerWallet","network","accounts","defaultAccount","img","inverted","connect","isConnected","waitForLoaded","loaded","alert","AlgoSigner","ledger","accts","map","a","address","x","r","setTimeout","disconnect","getDefaultAccount","signTxn","txns","defaultAcct","encodedTxns","tx","t","txn","encoding","msgpackToBase64","toByte","algosdk","encodeAddress","from","publicKey","signers","signed","signedTx","txID","blob","base64ToMsgpack","sign","stxn","Uint8Array","Buffer","signBytes","b","toString","signTeal","teal","MyAlgoConnectWallet","walletConn","MyAlgo","account","doSign","unsigned","signedTxns","tidx","signTransaction","s","permissionCallback","request","approved","declined","_permissionCallback","signLogicSig","WC","bridge","connector","WalletConnect","qrcodeModal","WalletConnectQRCodeModal","cb","connected","createSession","on","payload","params","_payload","reconn","setInterval","clearInterval","_inverted","killSession","defaultAddress","txnsToSign","encodedTxn","encodeUnsignedTransaction","formatJsonRpcRequest","sendCustomRequest","element","idx","ValidWallets","ValidNetworks","allowedWallets","WALLET_CONNECT","ALGO_SIGNER","MYALGO_CONNECT","WalletStorageKeys","VigeeWallet","popupPermissionCallback","walletChoice","setWalletPreference","walletPreference","wallet","accountList","accountIndex","getSigner","txnGroup","indexesToSign","filter","_txn","index","includes","setAccountList","sessionStorage","setItem","ACCOUNT_LIST","JSON","stringify","getItem","parse","setAccountIndex","ACCOUNT_PREFERENCE","parseInt","WALLET_PREFERENCE","console","log","wp"],"mappings":"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"}